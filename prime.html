<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Prime Video — Demo</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  :root{--bg:#071220;--card:#0b1622;--accent:#00a8ff}
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#fff}
  .top{display:flex;align-items:center;justify-content:space-between;padding:14px 22px;background:#071028}
  .brand{display:flex;align-items:center;gap:12px}
  .brand img{height:34px}
  .nav a{color:#cfe8ff;text-decoration:none;margin-left:18px;font-weight:600}
  .hero{height:320px;display:flex;align-items:center;background:
    linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.85)), url('https://picsum.photos/1200/500?blur=2') center/cover no-repeat}
  .hero-inner{max-width:1200px;margin:auto;padding:24px;color:#fff}
  .hero-title{font-size:40px;font-weight:800;letter-spacing:0.5px}
  .rows{max-width:1200px;margin:18px auto;padding:0 14px}
  h2{margin:14px 0 8px 4px;font-size:18px}
  .row{display:flex;gap:12px;overflow-x:auto;padding-bottom:6px}
  .tile{min-width:200px;background:var(--card);border-radius:8px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.5)}
  .tile img{width:100%;height:120px;object-fit:cover;display:block}
  .tile .info{padding:10px}
  .tile .title{font-weight:700;font-size:14px}
  /* simple opener animation like Prime */
  .prime-opener{position:fixed;inset:0;background:#020617;display:flex;align-items:center;justify-content:center;z-index:9999}
  .prime-opener .logo{font-size:50px;color:var(--accent);font-weight:900;letter-spacing:2px;opacity:0;transform:translateY(10px);animation:openIn .9s forwards}
  @keyframes openIn{to{opacity:1;transform:none}}
  /* scrollbar small */
  .row::-webkit-scrollbar{height:8px} .row::-webkit-scrollbar-thumb{background:#22313a;border-radius:6px}
  @media(max-width:700px){ .hero{height:220px} .hero-title{font-size:26px} .tile img{height:90px} }
</style>
</head>
<body>
  <div class="top">
    <div class="brand"><img src="https://m.media-amazon.com/images/G/01/digital/video/merch/prime-voice/prime-logo.png" alt="prime"><strong>Prime Video</strong></div>
    <div class="nav">
      <a href="/amazon.html">Home</a>
      <a href="#">Movies</a>
      <a href="#">TV shows</a>
      <a href="#">Live TV</a>
    </div>
  </div>

  <!-- opener animation (auto hide after 900ms) -->
  <div class="prime-opener" id="opener"><div class="logo">PRIME VIDEO</div></div>

  <section class="hero">
    <div class="hero-inner">
      <div class="hero-title">Featured: Our Fault</div>
      <p style="opacity:0.85">Watch with Prime — curated picks for you.</p>
    </div>
  </section>

  <div class="rows">
    <h2>Included with Prime</h2>
    <div class="row" id="includedRow"></div>

    <h2>Top series</h2>
    <div class="row" id="seriesRow"></div>

    <h2>Top movies</h2>
    <div class="row" id="moviesRow"></div>
  </div>

<script>
  // hide opener after brief animation
  setTimeout(()=>document.getElementById('opener').style.display='none',900);

  // load content from server (endpoint provided by server.js)
  async function loadPrime(){
    try{
      const res = await fetch('/api/prime/content');
      if(!res.ok) throw new Error('no content');
      const list = await res.json();
      populate(list);
    }catch(e){
      // fallback sample content if server not available
      const sample = Array.from({length:12}).map((_,i)=>({
        id:300+i, title:'Sample Title '+(i+1), type: i%2? 'series':'movie', year:2018+ (i%6),
        img:'https://picsum.photos/seed/prime'+i+'/600/360', desc:'Short description'
      }));
      populate(sample);
    }
  }

  function tileHtml(x){
    return `<div class="tile">
      <img src="${x.img}" alt="${x.title}">
      <div class="info"><div class="title">${x.title}</div><div style="font-size:12px;color:#9fb3c6">${x.type} • ${x.year}</div></div>
    </div>`;
  }

  function populate(list){
    const included = document.getElementById('includedRow'), series=document.getElementById('seriesRow'), movies=document.getElementById('moviesRow');
    included.innerHTML=''; series.innerHTML=''; movies.innerHTML='';
    list.slice(0,8).forEach(x=> included.insertAdjacentHTML('beforeend', tileHtml(x)));
    list.filter(x=>x.type==='series').slice(0,8).forEach(x=> series.insertAdjacentHTML('beforeend', tileHtml(x)));
    list.filter(x=>x.type==='movie').slice(0,8).forEach(x=> movies.insertAdjacentHTML('beforeend', tileHtml(x)));
  }

  loadPrime();
</script>
</body>
</html>
